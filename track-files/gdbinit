# This file should be in the path of ~/.gdbinit.

# Display source code layout in TUI
layout src

set tui active-border-mode normal
set style function foreground magenta
set style function intensity normal
set style filename foreground red
set style filename intensity normal
set logging file ~/.gdb.log
set print pretty on
set pagination off
set tui tab-width 8
set tui compact-source
set disassembly-flavor intel
winheight cmd +6
fs cmd
set logging off
set trace-commands on
set logging on
set can-use-hw-watchpoints 1
set follow-fork-mode child
define connect
    source ~/target.sh
end
define ftnt
    set sysroot .
    set solib-search-path ./rlib:./fortipkg/lib/x86_64:./fortipkg/lib/x86_64/providers
end

# Do not remove the trailing space
set prompt (gdb) 
# After recomplie, reload the binary and source code
define reload
    file sysinit/init
    directory
end

# Specify your custom GDB aliases (if any)
# For example, alias "run" to "r"
# alias r run

# Load the custom gdb tools
source ~/Templates/gdb_tools.py
